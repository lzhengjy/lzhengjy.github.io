<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>RabbitMQ | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="再一次学习和巩固RabbitMQ的知识，这次学习参考的视频是黑马RabbitMQ  一. MQ基础1. 初步认识MQ同步调用 同步调用是最基本并且最简单的一种调用方式，类 A 的 a() 调用类 B 的 b()，一直等待 b() 执行完毕，a() 继续往下走。该调用方式适用于 b() 执行时间不长的情况，因为 b() 执行时间过长或者直接阻塞的话，a() 的余下代码是无法执行下去的，这样会造成整个">
<meta property="og:type" content="article">
<meta property="og:title" content="RabbitMQ">
<meta property="og:url" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="再一次学习和巩固RabbitMQ的知识，这次学习参考的视频是黑马RabbitMQ  一. MQ基础1. 初步认识MQ同步调用 同步调用是最基本并且最简单的一种调用方式，类 A 的 a() 调用类 B 的 b()，一直等待 b() 执行完毕，a() 继续往下走。该调用方式适用于 b() 执行时间不长的情况，因为 b() 执行时间过长或者直接阻塞的话，a() 的余下代码是无法执行下去的，这样会造成整个">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240609160959707.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240609162419646.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240609165721712.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240610222304340.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240610222414057.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240610223252726.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611135716392.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611140028045.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611140407088.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611140458655.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611140743983.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611140826532.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611144003864.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611144352430.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611144815403.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611145002934.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611145500584.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611151140606.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611151717399.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611151843693.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611152018670.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611152234361.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611152722392.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611153045141.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611153136259.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611153350512.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611154049240.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611154708838.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611155152275.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611155258502.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611155505024.png">
<meta property="og:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240611160011008.png">
<meta property="article:published_time" content="2024-03-26T06:31:25.000Z">
<meta property="article:modified_time" content="2024-06-26T11:56:00.053Z">
<meta property="article:author" content="Zheng">
<meta property="article:tag" content="RabbitMQ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lzhengjy.github.io/2024/03/26/RabbitMQ/image-20240609160959707.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://lzhengjy.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-RabbitMQ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/26/RabbitMQ/" class="article-date">
  <time class="dt-published" datetime="2024-03-26T06:31:25.000Z" itemprop="datePublished">2024-03-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6%E5%92%8C%E4%B8%AD%E9%97%B4%E4%BB%B6/">框架和中间件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      RabbitMQ
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>再一次学习和巩固RabbitMQ的知识，这次学习参考的视频是<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mN4y1Z7t9?vd_source=db8e7458ec195ac74979ce5478cbc624">黑马RabbitMQ</a></p>
<hr>
<h3 id="一-MQ基础"><a href="#一-MQ基础" class="headerlink" title="一. MQ基础"></a>一. MQ基础</h3><h4 id="1-初步认识MQ"><a href="#1-初步认识MQ" class="headerlink" title="1. 初步认识MQ"></a>1. 初步认识MQ</h4><p><strong>同步调用</strong></p>
<p>同步调用是最基本并且最简单的一种调用方式，类 A 的 a() 调用类 B 的 b()，一直等待 b() 执行完毕，a() 继续往下走。<code>该调用方式适用于 b() 执行时间不长的情况</code>，因为 b() 执行时间过长或者直接阻塞的话，a() 的余下代码是无法执行下去的，这样会造成整个流程的阻塞。<br>对于一些业务，它们之间是有前后关系的，必须使用同步调用，如在支付服务中，在用户进行支付后，就要进行扣减余额，这里的用户字符和扣减余额就是同步调用</p>
<br>



<p><strong>异步调用</strong></p>
<p>异步调用是为了解决同步调用可能出现阻塞，导致整个流程卡住而产生的一种调用方式，可以创建新的线程来对这些方法或接口进行调用<br>如在支付服务中，在用户进行支付后，更新订单状态可以创建新的线程来执行，也就是异步调用</p>
<br>



<img src="/2024/03/26/RabbitMQ/image-20240609160959707.png" alt="image-20240609160959707" style="zoom:67%;">

<br>



<p><strong>异步调用的作用</strong></p>
<p>以上面的案例为例，对部分业务采取异步调用的方式，支付服务不在同步调用业务关联度低的服务，而是发送消息到Broker</p>
<p>采取这种方案所具备的优势：</p>
<ul>
<li>解除耦合，拓展性强：将哪些与主业务隔关联性不是特别强的业务采用异步调用的方式调用，这样就不会影响到主业务，同时需要扩展相关业务时，如果与主业务关联性不强，只需要同其他业务一样，监听主业务发送的消息，通过消息代理获取到对应的消息并异步调用即可</li>
<li>无需等待，性能好：异步调用的业务所消耗的时间不会影响主业务的响应，减低了主业务的响应时间</li>
<li>故障隔离：异步调用业务之间都是相互隔离的，与主业务也是相互隔离的，发生故障后不会影响其他业务</li>
<li>缓存消息，流量削峰填谷：在流量峰值较大的时候，这些异步调用的业务会按部读取消息代理中的消息进行消费，减轻的整个业务的压力</li>
</ul>
<br>

<img src="/2024/03/26/RabbitMQ/image-20240609162419646.png" alt="image-20240609162419646" style="zoom:67%;">

<br>



<p><strong>异步调用的缺点</strong></p>
<ul>
<li>不能立即得到调用结果，时效性查</li>
<li>不确定下游业务执行是否成功</li>
<li>业务安全依赖于Broker的可靠性</li>
</ul>
<br>



<hr>
<h4 id="2-安装"><a href="#2-安装" class="headerlink" title="2. 安装"></a>2. 安装</h4><p><a target="_blank" rel="noopener" href="https://www.rabbitmq.com/">官方文档</a></p>
<p>把RabbitMQ安装到Linux中</p>
<p>先使用docker拉取RabbitMQ镜像，我这里是直接从本地上传的</p>
<img src="/2024/03/26/RabbitMQ/image-20240609165721712.png" alt="image-20240609165721712" style="zoom:67%;">

<br>



<p>创建MQ容器</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line"> -e RABBITMQ_DEFAULT_USER=zheng \</span><br><span class="line"> -e RABBITMQ_DEFAULT_PASS=123456 \</span><br><span class="line"> -v mq-plugins:/plugins \</span><br><span class="line"> --name mq \</span><br><span class="line"> --hostname mq \</span><br><span class="line"> -p 15672:15672 \</span><br><span class="line"> -p 5672:5672 \</span><br><span class="line"> --network hmall \</span><br><span class="line"> -d \</span><br><span class="line"> rabbitmq:3.8-management</span><br></pre></td></tr></table></figure>

<br>



<p>这里的network网络要提前创建</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create hamll</span><br></pre></td></tr></table></figure>

<br>



<p>如果15672端口无法访问可能是服务器未关闭，或者mq的插件没有启动</p>
<p>启动插件需要进入到RabbitMQ的内部</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mq的Id /bin/bish</span><br></pre></td></tr></table></figure>

<p>进入到rabbitmq容器内部后执行下面的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure>

<br>



<p>然后就可以访问15672端口，并登录</p>
<img src="/2024/03/26/RabbitMQ/image-20240610222304340.png" alt="image-20240610222304340" style="zoom: 50%;">

<br>



<img src="/2024/03/26/RabbitMQ/image-20240610222414057.png" alt="image-20240610222414057" style="zoom:50%;">

<br>



<p><strong>RabbitMQ的整体框架及核心概念：</strong></p>
<ul>
<li>virtual-host：虚拟主机，起到数据隔离的作用</li>
<li>publisher：消息发送者</li>
<li>consumer：消息的消费者</li>
<li>queue：队列，存储消息</li>
<li>exchange：交换机，负责路由消息</li>
</ul>
<img src="/2024/03/26/RabbitMQ/image-20240610223252726.png" alt="image-20240610223252726" style="zoom:67%;">

<br>



<hr>
<h4 id="3-快速入门"><a href="#3-快速入门" class="headerlink" title="3. 快速入门"></a>3. 快速入门</h4><p>先在Web端创建一个队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611135716392.png" alt="image-20240611135716392" style="zoom: 50%;">

<br>



<p>打开idea并创建项目，导入依赖，这里的快速入门使用Spring AMQP来演示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--AMQP依赖，包含RabbitMQ--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--单元测试--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--Jackson--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">&lt;dependencies&gt;</span><br></pre></td></tr></table></figure>

<br>



<p>创建消费者和生产者两个模块</p>
<p><img src="/2024/03/26/RabbitMQ/image-20240611140028045.png" alt="image-20240611140028045"></p>
<br>



<p><strong>生产者</strong></p>
<p>在测试类中写入信息，先编写配置文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">pattern</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">dateformat</span>: <span class="string">MM-dd HH:mm:ss:SSS</span></span><br><span class="line"><span class="attr">spring</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">rabbitmq</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">host</span>: <span class="string">192.168.200.128</span></span><br><span class="line">    <span class="attr">port</span>: <span class="string">5672</span></span><br><span class="line">    <span class="attr">username</span>: <span class="string">admin</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">123456</span></span><br></pre></td></tr></table></figure>

<br>



<p>在编写测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringAmqpTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testSendMessage2Queue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">queueName</span> <span class="operator">=</span> <span class="string">&quot;simple.queue&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, amqp!&quot;</span>;</span><br><span class="line">        rabbitTemplate.convertAndSend(queueName, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>运行该测试方法后，可以在Web端看见队列simple.queue存在一条未消费的消息</p>
<img src="/2024/03/26/RabbitMQ/image-20240611140407088.png" alt="image-20240611140407088" style="zoom:50%;">

<br>



<p>还可以获取到消息的详细信息</p>
<img src="/2024/03/26/RabbitMQ/image-20240611140458655.png" alt="image-20240611140458655" style="zoom: 50%;">

<br>



<p><strong>消费者</strong></p>
<p>先编写消费者的配置信息</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">pattern</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">dateformat</span>: <span class="string">MM-dd HH:mm:ss:SSS</span></span><br><span class="line"><span class="attr">spring</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">rabbitmq</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">host</span>: <span class="string">192.168.200.128</span></span><br><span class="line">    <span class="attr">port</span>: <span class="string">5672</span></span><br><span class="line">    <span class="attr">username</span>: <span class="string">admin</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">123456</span></span><br></pre></td></tr></table></figure>

<br>



<p>编写消费类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MqListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;simple.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenSimpleQueue</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者收到了simple.queue的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>启动消费者模块，可以看到消息被获取到</p>
<img src="/2024/03/26/RabbitMQ/image-20240611140743983.png" alt="image-20240611140743983" style="zoom:50%;">

<br>



<p>消息队列中的也不存在未消费的消息了</p>
<img src="/2024/03/26/RabbitMQ/image-20240611140826532.png" alt="image-20240611140826532" style="zoom:50%;">

<br>



<p><strong>SpringAMQP如何收发消息</strong></p>
<ol>
<li>引入spring-boot-starter-amqp的依赖</li>
<li>配置rabbitmq服务端信息</li>
<li>利用RabbitTemplate发送消息</li>
<li>利用@RabbitListener注解声明要监听的队列，监听消息</li>
</ol>
<br>



<hr>
<h4 id="4-work模型"><a href="#4-work模型" class="headerlink" title="4. work模型"></a>4. work模型</h4><p>Work queues，任务模型。简单来说就是<strong>让多个消费者绑定到一个队列，共同消费队列中的消息</strong></p>
<br>



<p><strong>案例：模仿WorkQueue，实现一个队列绑定多个消费者</strong></p>
<p>实现思路：</p>
<ol>
<li>在RabbitMQ的控制台创建一个队列，名为work.queue</li>
<li>在publisher服务中定义测试方法，批量生成50条消息，发送到work.queue中</li>
<li>在consumer服务中定义两个消息监听者，都监听work.queue队列</li>
<li>模拟不同能力的消费者<ul>
<li>消费者1和消费者2处理信息的能力一样</li>
<li>消费者1处理信息的能力是消费者2的10倍</li>
<li>通过给消费者增加延时来模仿不同消费者的能力</li>
</ul>
</li>
</ol>
<br>



<p>先在Web端控制台创建队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611144003864.png" alt="image-20240611144003864" style="zoom: 67%;">

<br>



<p>创建测试方法，批量生成消息，发送到work.queue队列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testWorkQueue</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">queueName</span> <span class="operator">=</span> <span class="string">&quot;work.queue&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">50</span>; i++) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, worker, message_&quot;</span> + i;</span><br><span class="line">        rabbitTemplate.convertAndSend(queueName, msg);</span><br><span class="line">        Thread.sleep(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p><strong>模拟第一种情况，两个消费者消费能力相同</strong></p>
<p>创建两个消费者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MqListener</span> &#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenWorkQueue1</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者1 收到了 work.queue的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenWorkQueue2</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.err.println(<span class="string">&quot;消费者2 收到了 work.queue的消息...... ：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>运行消费者模块，接收并消费消息<br>通过消费结果可以获得几个结论</p>
<ul>
<li>多个消费者绑定到同一个队列时，队列中的一条消息只会被一个消费者消费，不会重复消费</li>
<li>这些消费者之间默认通过轮询的方式来消费这些消息</li>
</ul>
<img src="/2024/03/26/RabbitMQ/image-20240611144352430.png" alt="image-20240611144352430" style="zoom: 67%;">

<br>





<p>当消费者之间的性能相差过大时，这种轮询的方式就会出现弊端</p>
<p><strong>模拟第二种情况，消费者1的能力是消费者2的10倍</strong></p>
<img src="/2024/03/26/RabbitMQ/image-20240611144815403.png" alt="image-20240611144815403" style="zoom:67%;">

<br>



<p>重启消费者模块，再次发送消息</p>
<img src="/2024/03/26/RabbitMQ/image-20240611145002934.png" alt="image-20240611145002934" style="zoom:80%;">

<p>从测试结果可以看出，消费者1很快就消费了自己该消费的信息，而消费者2则大大的影响了整体速度，<code>产生了消息堆积</code>。所以在消费者的消费能力相差过大时，不能使用轮询的方式，<code>可以通过更改配置文件，来指定一个消费者最多能同时消费消息的数量</code>来解决这个问题</p>
<br>



<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">listener</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">simple</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">prefetch</span>: <span class="string">1 # 每次只能获取一条消息，处理完才能获取下一个消息</span></span><br></pre></td></tr></table></figure>

<br>



<p>更改完配置后再次测试,这样就解决了消息堆积的问题</p>
<img src="/2024/03/26/RabbitMQ/image-20240611145500584.png" alt="image-20240611145500584" style="zoom:80%;">

<br>



<p><strong>Work模型的使用</strong></p>
<ul>
<li>多个消费者绑定到一个队列，可以加快消息处理速度</li>
<li>同一条消息只会被一个消费者处理</li>
<li>通过设置prefetch来控制消费者预取的消息数量，处理完一条消息再处理下一条</li>
</ul>
<br>



<hr>
<h4 id="5-Fanout交换机"><a href="#5-Fanout交换机" class="headerlink" title="5. Fanout交换机"></a>5. Fanout交换机</h4><p>一般的消息都不是有生产者直接发送给队列的，而是生产者发送给交换机，交换机再转发到对应的队里中去</p>
<p>交换机有3种：Fanout广播，Direct定向，Topic话题</p>
<br>



<p>Fanout交换机也叫广播交换机，会将接收到的消息广播到每一个跟其绑定的queue</p>
<img src="/2024/03/26/RabbitMQ/image-20240611151140606.png" alt="image-20240611151140606" style="zoom:67%;">

<br>



<p><strong>利用SpringAMQP演示FanoutExchange的使用</strong></p>
<p>实现思路</p>
<pre><code>1. 在RabbitMQ控制台中，声明队列fanout.queue1和fanout.queue2
1. 在RabbitMQ控制台中，声明交换机hmall.fanout，同时绑定上面声明的两个队列
1. 在consumer服务中，编写两个消费者方法，分别监听队列1和队列2
1. 在publisher中编写测试方法，向交换机中发送消息
</code></pre>
<br>



<p>创建队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611151717399.png" alt="image-20240611151717399" style="zoom: 50%;">

<br>



<p>创建交换机</p>
<img src="/2024/03/26/RabbitMQ/image-20240611151843693.png" alt="image-20240611151843693" style="zoom: 50%;">

<br>



<p>绑定交换机和队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611152018670.png" alt="image-20240611152018670" style="zoom:67%;">

<br>



<p>编写消费者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;fanout.queue1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenFanoutQueue1</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者1 收到了 fanout.queue1的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;fanout.queue2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenFanoutQueue2</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者2 收到了 fanout.queue2的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>编写生产者方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSendFanout</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.fanout&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, everyone!&quot;</span>;</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="literal">null</span>, msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>测试</p>
<p>从测试结果可以看出这两个消息队列都从交换机接收到了消息</p>
<img src="/2024/03/26/RabbitMQ/image-20240611152234361.png" alt="image-20240611152234361" style="zoom:67%;">

<br>



<p>总结</p>
<p>交换机的作用是什么？</p>
<ul>
<li>接收publisher发送的消息</li>
<li>将消息按照规则路由到与之绑定的队列</li>
<li>不能缓存消息，路由失败，消息丢失</li>
<li>FanoutExchange的会将消息路由到每个绑定的队列</li>
</ul>
<br>



<hr>
<h4 id="6-Direct交换机"><a href="#6-Direct交换机" class="headerlink" title="6. Direct交换机"></a>6. Direct交换机</h4><p>在Fanout模式中，一条消息，会被所有订阅的队列都消费。但是，在某些场景下，我们希望不同的消息被不同的队列消费。这时就要用到Direct类型的Exchange</p>
<img src="/2024/03/26/RabbitMQ/image-20240611152722392.png" alt="image-20240611152722392" style="zoom:67%;">

<br>



<p>在Direct模型下：</p>
<ul>
<li>队列与交换机的绑定，不能是任意绑定了，而是要指定一个<code>RoutingKey</code>（路由key）</li>
<li>消息的发送方在 向 Exchange发送消息时，也必须指定消息的 <code>RoutingKey</code>。</li>
<li>Exchange不再把消息交给每一个绑定的队列，而是根据消息的<code>Routing Key</code>进行判断，只有队列的<code>Routingkey</code>与消息的 <code>Routing key</code>完全一致，才会接收到消息</li>
</ul>
<br>



<p><strong>案例：利用SpringAMQP演示DirectExchange的使用</strong></p>
<ol>
<li>声明一个名为<code>hmall.direct</code>的交换机</li>
<li>声明队列<code>direct.queue1</code>，绑定<code>hmall.direct</code>，<code>bindingKey</code>为<code>blud</code>和<code>red</code></li>
<li>声明队列<code>direct.queue2</code>，绑定<code>hmall.direct</code>，<code>bindingKey</code>为<code>yellow</code>和<code>red</code></li>
<li>在<code>consumer</code>服务中，编写两个消费者方法，分别监听direct.queue1和direct.queue2 </li>
<li>在publisher中编写测试方法，向<code>hmall.direct</code>发送消息</li>
</ol>
<br>



<p>创建队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611153045141.png" alt="image-20240611153045141" style="zoom: 50%;">

<br>



<p>创建交换机</p>
<img src="/2024/03/26/RabbitMQ/image-20240611153136259.png" alt="image-20240611153136259" style="zoom: 50%;">

<br>



<p>绑定交换机和队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611153350512.png" alt="image-20240611153350512" style="zoom:80%;">

<br>



<p>编写消费者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;direct.queue1&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue1</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">      	System.out.println(<span class="string">&quot;消费者1 收到了 direct.queue1的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;direct.queue1&quot;)</span></span><br><span class="line">  	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue2</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;消费者2 收到了 direct.queue2的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">  	&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>编写生产者方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSendDirect</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.direct&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg1</span> <span class="operator">=</span> <span class="string">&quot;红色警报，由于日本排放核污水，惊险哥斯拉&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg2</span> <span class="operator">=</span> <span class="string">&quot;蓝色通知，警报解除，哥斯拉是放的气球&quot;</span>;</span><br><span class="line"></span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="string">&quot;red&quot;</span>, msg1);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="string">&quot;blue&quot;</span>, msg2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>测试</p>
<img src="/2024/03/26/RabbitMQ/image-20240611154049240.png" alt="image-20240611154049240" style="zoom:67%;">

<br>



<p><strong>Direct交换机与Fanout交换机的差异</strong></p>
<ul>
<li>Fanout交换机将消息路由给每一个与之绑定的队列</li>
<li>Direct交换机根据RoutingKey判断路由给哪个队列</li>
<li>如果多个队列具有相同的RoutingKey，则与Fanout功能类似</li>
</ul>
<hr>
<h4 id="7-Topic交换机"><a href="#7-Topic交换机" class="headerlink" title="7. Topic交换机"></a>7. Topic交换机</h4><p><code>Topic</code>类型的<code>Exchange</code>与<code>Direct</code>相比，都是可以根据<code>RoutingKey</code>把消息路由到不同的队列。<br>只不过<code>Topic</code>类型<code>Exchange</code>可以让队列在绑定<code>BindingKey</code> 的时候使用通配符！</p>
<p><code>BindingKey</code> 一般都是有一个或多个单词组成，多个单词之间以<code>.</code>分割，例如： <code>item.insert</code></p>
<p>通配符规则：</p>
<ul>
<li><code>#</code>：匹配一个或多个词</li>
<li><code>*</code>：匹配不多不少恰好1个词</li>
</ul>
<p>举例：</p>
<ul>
<li><code>item.#</code>：能够匹配<code>item.spu.insert</code> 或者 <code>item.spu</code></li>
<li><code>item.*</code>：只能匹配<code>item.spu</code></li>
</ul>
<br>



<img src="/2024/03/26/RabbitMQ/image-20240611154708838.png" alt="image-20240611154708838" style="zoom:67%;">

<br>



<p>假如此时publisher发送的消息使用的<code>RoutingKey</code>共有四种：</p>
<ul>
<li><code>china.news </code>代表有中国的新闻消息；</li>
<li><code>china.weather</code> 代表中国的天气消息；</li>
<li><code>japan.news</code> 则代表日本新闻</li>
<li><code>japan.weather</code> 代表日本的天气消息；</li>
</ul>
<p>解释：</p>
<ul>
<li><code>topic.queue1</code>：绑定的是<code>china.#</code> ，凡是以 <code>china.</code>开头的<code>routing key</code> 都会被匹配到，包括：<ul>
<li><code>china.news</code></li>
<li><code>china.weather</code></li>
</ul>
</li>
<li><code>topic.queue2</code>：绑定的是<code>#.news</code> ，凡是以 <code>.news</code>结尾的 <code>routing key</code> 都会被匹配。包括:<ul>
<li><code>china.news</code></li>
<li><code>japan.news</code></li>
</ul>
</li>
</ul>
<br>



<p><strong>案例：利用SpringAMQP演示DirectExchange的使用</strong></p>
<p>需求：</p>
<ol>
<li>在RabbitMQ控制台中，声明队列topic.queue1和topic.queue2</li>
<li>在RabbitMQ控制台中，声明交换机hmall.topic，将两个队列与其绑定</li>
<li>在consumer服务中，编写两个消费者方法，分别监听topic.queue1和topic.queue2</li>
<li>在publisher中编写测试方法，利用不同的RoutingKey向hmall.topic发送消息</li>
</ol>
<br>



<p>创建队列</p>
<img src="/2024/03/26/RabbitMQ/image-20240611155152275.png" alt="image-20240611155152275" style="zoom: 50%;">

<br>



<p>创建交换机</p>
<img src="/2024/03/26/RabbitMQ/image-20240611155258502.png" alt="image-20240611155258502" style="zoom:67%;">

<br>



<p>绑定交换机和队列</p>
<p><img src="/2024/03/26/RabbitMQ/image-20240611155505024.png" alt="image-20240611155505024"></p>
<br>



<p>编写消费者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;topic.queue1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenTopicQueue1</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者1 收到了 topic.queue1的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;topic.queue2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenTopicQueue2</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者2 收到了 topic.queue2的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>编写生产者方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSendTopic</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.topic&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg1</span> <span class="operator">=</span> <span class="string">&quot;这条消息是china.a&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg2</span> <span class="operator">=</span> <span class="string">&quot;这条消息是b.news&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg3</span> <span class="operator">=</span> <span class="string">&quot;这条消息是china.news&quot;</span>;</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="string">&quot;china.a&quot;</span>, msg1);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="string">&quot;b.news&quot;</span>, msg2);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName, <span class="string">&quot;china.news&quot;</span>, msg3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>



<p>测试结果</p>
<img src="/2024/03/26/RabbitMQ/image-20240611160011008.png" alt="image-20240611160011008" style="zoom:80%;">

<br>



<p><strong>Direct交换机与Topic交换机的差异</strong></p>
<ul>
<li>Topic交换机接收的消息RoutingKey必须是多个单词，以 <code>**.**</code> 分割</li>
<li>Topic交换机与队列绑定时的bindingKey可以指定通配符</li>
<li><code>#</code>：代表0个或多个词</li>
<li><code>*</code>：代表1个词</li>
</ul>
<br>



<hr>
<h4 id="8-声明队列和交换机"><a href="#8-声明队列和交换机" class="headerlink" title="8. 声明队列和交换机"></a>8. 声明队列和交换机</h4><p>未完待续</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lzhengjy.github.io/2024/03/26/RabbitMQ/" data-id="clywa1f4a0011ecvee5r10fuc" data-title="RabbitMQ" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/04/13/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          从0开始实现一个简单的增删改查
        
      </div>
    </a>
  
  
    <a href="/2024/03/16/EasyExcel/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Apache poi 和 EasyExcel</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM%E7%AF%87/">JVM篇</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%BB%8F%E9%AA%8C/">技术经验</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6%E5%92%8C%E4%B8%AD%E9%97%B4%E4%BB%B6/">框架和中间件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9D%A2%E8%AF%95%E7%AF%87/">面试篇</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/" rel="tag">Kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lambda/" rel="tag">Lambda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/" rel="tag">Mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MybatisPlus/" rel="tag">MybatisPlus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot3/" rel="tag">SpringBoot3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/" rel="tag">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/excel/" rel="tag">excel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">多线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/" rel="tag">权限管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88/" rel="tag">集合</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Kafka/" style="font-size: 10px;">Kafka</a> <a href="/tags/Lambda/" style="font-size: 10px;">Lambda</a> <a href="/tags/MySQL/" style="font-size: 13.33px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10px;">Mybatis</a> <a href="/tags/MybatisPlus/" style="font-size: 10px;">MybatisPlus</a> <a href="/tags/RabbitMQ/" style="font-size: 13.33px;">RabbitMQ</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/SpringBoot3/" style="font-size: 10px;">SpringBoot3</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/excel/" style="font-size: 10px;">excel</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/redis/" style="font-size: 16.67px;">redis</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 13.33px;">前端</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 10px;">多线程</a> <a href="/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/" style="font-size: 10px;">权限管理</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 10px;">集合</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/07/19/xxl-job/">xxl-job</a>
          </li>
        
          <li>
            <a href="/2024/07/01/ElasticSearch/">ElasticSearch</a>
          </li>
        
          <li>
            <a href="/2024/06/20/%E9%80%9A%E8%BF%87JWT%E5%AE%9E%E7%94%9F%E6%88%90Token/">通过JWT实生成Token</a>
          </li>
        
          <li>
            <a href="/2024/06/14/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">分布式事务的解决方案</a>
          </li>
        
          <li>
            <a href="/2024/06/10/%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97/">延时队列</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Zheng<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>